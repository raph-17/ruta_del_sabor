<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalles de Pago</title>
    <link rel="stylesheet" href="css/style_pago_detalles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
</head>
<body>
<div class="container my-5 p-4 rounded shadow-lg fondo-claro">
    <h1 class="text-center mb-4">Detalles de Pago</h1>

    <!-- Barra de progreso -->
    <div class="progress mb-4">
        <div class="progress-bar" role="progressbar" style="width: 33.33%;" id="progress-bar">Paso 1 de 3</div>
    </div>

    <!-- Step 1: Datos del Cliente -->
    <div class="step active" id="step-1">
        <h3>Datos del Cliente</h3>
        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="nombre" class="form-label">Nombre</label>
                <input type="text" class="form-control" id="nombre" required>
            </div>
            <div class="col-md-6 mb-3">
                <label for="apellido" class="form-label">Apellido</label>
                <input type="text" class="form-control" id="apellido" required>
            </div>
            <div class="col-md-6 mb-3">
                <label for="correo" class="form-label">Correo</label>
                <input type="email" class="form-control" id="correo" required>
            </div>
            <div class="col-md-6 mb-3">
                <label for="telefono" class="form-label">Teléfono</label>
                <input type="tel" class="form-control" id="telefono" required pattern="[0-9]{9}" title="Teléfono debe tener 9 dígitos numéricos">
            </div>
            <div class="col-md-12 mb-3">
                <label class="form-label">Tipo de Comprobante</label>
                <div>
                    <input type="radio" name="comprobante" id="boleta" value="boleta" checked>
                    <label for="boleta">Boleta</label>
                    <input type="radio" name="comprobante" id="factura" value="factura">
                    <label for="factura">Factura</label>
                </div>
            </div>
            <div class="col-md-6 mb-3" id="dni-container">
                <label for="dni" class="form-label">DNI</label>
                <input type="text" class="form-control" id="dni" required pattern="[0-9]{8}" title="DNI debe tener 8 dígitos numéricos">
            </div>
            <div class="col-md-6 mb-3 d-none" id="ruc-container">
                <label for="ruc" class="form-label">RUC</label>
                <input type="text" class="form-control" id="ruc" pattern="[0-9]{11}" title="RUC debe tener 11 dígitos numéricos">
            </div>
        </div>
        <div class="text-end">
            <button class="btn btn-lg btn-confirmar" onclick="nextStep(1)">Siguiente</button>
        </div>
    </div>

    <!-- Step 2: Método de Entrega -->
    <div class="step d-none" id="step-2">
        <h3>Método de Entrega</h3>
        <div class="row">
            <div class="col-md-12 mb-3">
                <input type="radio" name="entrega" id="delivery" value="delivery" checked>
                <label for="delivery">Delivery (+ S/ 5.00)</label>
                <input type="radio" name="entrega" id="recoger" value="recoger">
                <label for="recoger">Recojo en Local</label>
            </div>
            <div class="col-md-6 mb-3" id="direccion-container">
                <label for="direccion" class="form-label">Dirección</label>
                <input type="text" class="form-control" id="direccion" required>
            </div>
            <div class="col-md-6 mb-3" id="referencia-container">
                <label for="referencia" class="form-label">Referencia</label>
                <input type="text" class="form-control" id="referencia" required>
            </div>
        </div>
        <div class="text-end">
            <button class="btn btn-lg btn-secondary me-2" onclick="prevStep(2)">Atrás</button>
            <button class="btn btn-lg btn-confirmar" onclick="nextStep(2)">Siguiente</button>
        </div>
    </div>

    <!-- Step 3: Método de Pago -->
    <div class="step d-none" id="step-3">
        <h3>Método de Pago</h3>
        <div class="row">
            <div class="col-md-12 mb-3">
                <input type="radio" name="pago" id="tarjeta" value="tarjeta" checked>
                <label for="tarjeta">Tarjeta</label>
                <input type="radio" name="pago" id="yape" value="yape">
                <label for="yape">Yape</label>
            </div>
            <div class="col-md-6 mb-3" id="tarjeta-container">
                <label for="numero-tarjeta" class="form-label">Número de Tarjeta</label>
                <input type="text" class="form-control" id="numero-tarjeta" required pattern="[0-9]{16}" title="Número de tarjeta debe tener 16 dígitos numéricos">
            </div>
            <div class="col-md-6 mb-3" id="fecha-vencimiento-container">
                <label for="fecha-vencimiento" class="form-label">Fecha de Vencimiento</label>
                <input type="text" class="form-control" id="fecha-vencimiento" required pattern="(0[1-9]|1[0-2])/[0-9]{2}" placeholder="MM/YY" title="Fecha de vencimiento debe ser MM/YY (ej. 07/25)" maxlength="5">
            </div>
            <div class="col-md-6 mb-3" id="cvv-container">
                <label for="cvv" class="form-label">CVV</label>
                <input type="text" class="form-control" id="cvv" required pattern="[0-9]{3}" title="CVV debe tener 3 dígitos numéricos" maxlength="3">

            </div>
            <div class="col-md-6 mb-3" id="titular-container">
                <label for="titular" class="form-label">Titular</label>
                <input type="text" class="form-control" id="titular" required>
            </div>
            <div class="col-md-6 mb-3 d-none" id="yape-numero-container">
                <label for="yape-numero" class="form-label">Número de Yape</label>
                <input type="text" class="form-control" id="yape-numero" required>
            </div>
            <div class="col-md-6 mb-3 d-none" id="yape-codigo-container">
                <label for="yape-codigo" class="form-label">Código</label>
                <input type="text" class="form-control" id="yape-codigo" required>
            </div>
        </div>
        <div class="totales text-end mt-4 text-subtotal">
            <p class="fs-4">Subtotal: S/ <span id="subtotal">0.00</span></p>
            <p class="fs-4">Costo de Delivery: S/ <span id="delivery-cost">5.00</span></p>
            <p class="fs-4">Total: S/ <span id="total">0.00</span></p>
        </div>
        <div class="text-end">
            <button class="btn btn-lg btn-secondary me-2" onclick="prevStep(3)">Atrás</button>
            <button id="btn-procesar" class="btn btn-lg btn-confirmar">Procesar Pago</button>
        </div>
    </div>
</div>

<button onclick="cambiarTema()" id="toggleTema" class="btn btn-light position-fixed bottom-0 end-0 m-4 shadow rounded-circle" style="width: 60px; height: 60px; font-size: 24px;">
    <span id="iconoTema">☀️</span>
</button>

<script src="js/pago_detalles.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>
</body>
</html>